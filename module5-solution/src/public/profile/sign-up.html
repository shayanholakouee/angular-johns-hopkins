<div class="container">

  <div ng-if = "signupCtrl.user.registered && !signupCtrl.completed">
    Dear, <b>{{signupCtrl.user.username}} </b> you already registered
  </div>
  <div ng-if = "!signupCtrl.user.registered || signupCtrl.completed">
    <div ng-if = "!signupCtrl.user.registered">
      <fieldset>
        <h2>Site registration</h2>
        <form class="form-horizontal" name='regForm' novalidate>
          <div class="form-group">
          <input type="text" class="form-control"  name="username" placeholder="Pick a Name"
            ng-model="signupCtrl.user.username"
            required
            minlength="2"
            ng-maxlength="50">
            <span
              ng-if="(regForm.username.$error.minlength || regForm.username.$error.required) && regForm.username.$touched">
              Name must be at least 2 characters long
            </span>
            <span ng-if="regForm.username.$error.maxlength && regForm.username.$touched">
              Name must not be longer than 50 characters
            </span>
            <br>

            <input type="text" class="form-control" name="lastname" placeholder="Pick a Lastname"
              ng-model="signupCtrl.user.lastname"
              required
              minlength="2"
              ng-maxlength="50">
              <span
                ng-if="(regForm.lastname.$error.minlength || regForm.lastname.$error.required) && regForm.lastname.$touched">
                Lastname must be at least 2 characters long
              </span>
              <span ng-if="regForm.lastname.$error.maxlength && regForm.lastname.$touched">
                Lastname must not be longer than 50 characters
              </span>
              <br>

          <input type="email" class="form-control" name="email" placeholder="Email"
            ng-model="signupCtrl.user.email"
            required>
            <span ng-if="regForm.email.$invalid && regForm.email.$touched">
              Must be a valid email address: handle@domain format
            </span>
            <br>

          <input type="text" class="form-control" name="phone" placeholder="Phone ###-###-####"
            ng-model="signupCtrl.user.phone"
            pattern="(\d{3})-(\d{3})-(\d{4})">
            <span ng-if="regForm.phone.$invalid && regForm.phone.$touched">
              Phone must be in the format ###-###-####.
            </span>
            <br>

            <input type="text" class="form-control" name="favoritedish" placeholder="Pick a your favorite dish"
              ng-model="signupCtrl.user.favoritedish"
              required
              ng-maxlength="50">
              <span ng-if="regForm.lastname.$error.maxlength && regForm.lastname.$touched">
                Favorite dish must not be longer than 50 characters
              </span>
              <span ng-if="signupCtrl.notFoundDish">
                Favorite dish menu not found.
              </span>
              <br>

          </div>
          <button class="btn btn-default"
            ng-disabled="regForm.$invalid"
            ng-click="signupCtrl.submit()">Submit</button>

        </form>
      </fieldset>
     </div>
      <div id="info" ng-if="signupCtrl.completed">
        <div> Your information has been saved. </div> <br>
        <div>  <label> Name: </label>  {{ signupCtrl.user.username}} </div>
        <div>  <label> Last name: </label>  {{ signupCtrl.user.lastname}}</div>
        <div>  <label> Email: </label>  {{ signupCtrl.user.email}} </div>
        <div>  <label> Phone: </label>  {{ signupCtrl.user.phone }}</div>
        <div>  <label> Favorite dish: </label>  {{ signupCtrl.user.favoritedish }}<br>
      </div>
    </div>
</div>
